<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Babylon.js Cube Example</title>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylon.glTF2FileLoader.js"></script>
</head>
<body>
    <canvas id="renderCanvas" style="width: 100%; height: 100%;"></canvas>
    <script>
        const canvas = document.getElementById('renderCanvas');
const engine = new BABYLON.Engine(canvas, true);

const createScene = function () {
    const scene = new BABYLON.Scene(engine);

    // Create a basic light and a camera
    const camera = new BABYLON.ArcRotateCamera("camera1", Math.PI / 2, Math.PI / 2.5, 2, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);

    const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 0), scene);

    // Load the GLB model
    BABYLON.SceneLoader.AppendAsync("https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/Skeindem/BabylonTests/Kaka/Cube.glb", "", scene).then(() => {
        const cube = scene.meshes[0]; // Assuming the cube is the first mesh loaded

        // Load and apply the texture
        const material = new BABYLON.StandardMaterial("cubeMaterial", scene);
        const texture = new BABYLON.Texture("https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/Skeindem/BabylonTests/Kaka/clipart4820701.png", scene);

        material.diffuseTexture = texture;
        cube.material = material;

        // Handle the 'd' key press to scale the texture down
        let scale = 1;
        window.addEventListener("keydown", function (event) {
            if (event.key === 'd') {
                scale *= 0.9;
                texture.uScale = scale;
                texture.vScale = scale;
            }
        });
    });

    return scene;
};

const scene = createScene();
engine.runRenderLoop(function () {
    scene.render();
});

window.addEventListener("resize", function () {
    engine.resize();
});

    </script>
</body>
</html>
